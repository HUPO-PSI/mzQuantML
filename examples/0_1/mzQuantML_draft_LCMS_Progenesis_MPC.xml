<!--
Example for Progenesis LC-MS

Data from "SpikeIn Velos Waters in Contest"

Group Similar Proteins
Quantitate from non-conflicting features


Questions:
- where should the actual values for quantification go? in the quantMeasurement or the PeptideList, or ProteinList?
- why is the cvParam in Assay mandatory?
- is it correct to describe the alignment as dataProcessing?
- AssayRef in StudyVariable is a string, why not IDREF?
- How is it actually possible to group multiple features in the QuantMeasurement?
- Actually I don't really need identified peptides and proteins for progenesis, but mzQuantML has this mandatory at the moment

COMMENT:
- if the features are defined AFTER the alignment, they are highly redundant, for before i can't get all the data
- do we also need feature detection as dataProcessing in the features?
- IdentificationRefs seem to have no mandatory attributes
- GroupMeasureParam seems to have nothing mandatory
- MeasureParam seems to have nothing mandatory

TODO:
- is there a cvParam for concentration for studyvariable? But progenesis actually only has a user given name here.
- cvParam for Progenesis' normalizations
-->
<mzQuantML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://psidev.info/psi/pi/mzQuantML/0.1 ../../schema/mzQuantML_0_1_2.xsd" xmlns="http://psidev.info/psi/pi/mzQuantML/0.1">
	<cvList>
		<cv id="PSI-MS" fullName="Proteomics Standards Initiative Mass Spectrometry Vocabularies" URI="http://psidev.cvs.sourceforge.net/viewvc/*checkout*/psidev/psi/psi-ms/mzML/controlledVocabulary/psi-ms.obo" version="2.25.0"/>
		<cv id="UO" fullName="Unit Ontology" URI="http://obo.cvs.sourceforge.net/*checkout*/obo/obo/ontology/phenotype/unit.obo"/>
	</cvList>
	
	<ProteinList>
		<QuantProteinAmbiguityGroup id="P00330">
			<IdentificationRef file_ref="F020602_waters_spikein.xml" />  <!-- This is actually not accessible by progenesis, or is it somehow? -->
			<GroupedQuantitationResult>
				<GroupMeasureParam StudyVariable_ref="1_fmol" value=""/>
			</GroupedQuantitationResult>
			<QuantitationResult Assay_ref="OV01108">	<!-- TODO: is this used correctly? but then it should be QuantitationResults. -->
				<MeasureParam QuantMeasurement_ref="q_P00330_raw_OV01108"/>	<!-- here without value, because it's the same value down in QuantMeasurement -->
				<MeasureParam QuantMeasurement_ref="q_P00330_normalized_OV01108"/> <!-- dito -->
			</QuantitationResult>
			<!-- TODO: all the other assay's results -->
			<QuantProteinDetectionHypothesis>
				<QuantPeptideRefs>
					<QuantPeptideRef ref="feature548_IGDYAGIK"/>
					<!-- TODO: references to all the other peptides -->
				</QuantPeptideRefs>
			</QuantProteinDetectionHypothesis>
		</QuantProteinAmbiguityGroup>
	</ProteinList>
	
	
	<PeptideList>
		<Peptide id="feature548_IGDYAGIK">
			<PeptideSequence>IGDYAGIK</PeptideSequence>
			<IdentificationRef file_ref="F020602_waters_spikein.xml"/>
			<QuantitationResult Assay_ref="OV01108">
				<MeasureParam QuantMeasurement_ref="q_feature548_raw_OV01108"/> <!-- as I understand this, I don't need a value here, because it's the same as down in the QuantMeasurement -->
				<MeasureParam QuantMeasurement_ref="q_feature548_normalized_OV01108"/> <!-- TODO: can I make the difference between raw and normalized clear with additional attributes? -->
			</QuantitationResult>
			<!-- TODO: allow multiple QuantitationResults, for every raw file one in Progenesis -->
			<QuantitationResult Assay_ref="OV01110">
				<MeasureParam QuantMeasurement_ref="q_feature548_raw_OV01110"/>
				<MeasureParam QuantMeasurement_ref="q_feature548_normalized_OV01110"/>
			</QuantitationResult>
			<!-- and 12 more QuantitationResults... -->
		</Peptide>
	</PeptideList>
	
	
	<AssayList>
		<Assay id="OV01108" name="OV01108">
			<RawFiles>
				<RawFile location="../msmsdata/OV01108.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>	<!-- TODO: why is this mandatory? -->
		</Assay>
		<Assay id="OV01110" name="OV01110">
			<RawFiles>
				<RawFile location="../msmsdata/OV01110.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01112" name="OV01112">
			<RawFiles>
				<RawFile location="../msmsdata/OV01112.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01114" name="OV01114">
			<RawFiles>
				<RawFile location="../msmsdata/OV01114.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01116" name="OV01116">
			<RawFiles>
				<RawFile location="../msmsdata/OV01116.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01118" name="OV01118">
			<RawFiles>
				<RawFile location="../msmsdata/OV01118.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01120" name="OV01120">
			<RawFiles>
				<RawFile location="../msmsdata/OV01120.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01122" name="OV01122">
			<RawFiles>
				<RawFile location="../msmsdata/OV01122.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01124" name="OV01124">
			<RawFiles>
				<RawFile location="../msmsdata/OV01124.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01126" name="OV01126">
			<RawFiles>
				<RawFile location="../msmsdata/OV01126.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01128" name="OV01128">
			<RawFiles>
				<RawFile location="../msmsdata/OV01128.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01130" name="OV01130">
			<RawFiles>
				<RawFile location="../msmsdata/OV01130.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01132" name="OV01132">
			<RawFiles>
				<RawFile location="../msmsdata/OV01132.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01134" name="OV01134">
			<RawFiles>
				<RawFile location="../msmsdata/OV01134.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
		<Assay id="OV01136" name="OV01136">
			<RawFiles>
				<RawFile location="../msmsdata/OV01136.raw"/>
			</RawFiles>
			<cvParam accession="" name="" cvRef="" value=""/>
		</Assay>
	</AssayList>
	
	
	<StudyVariableList>
		<StudyVariable id="1_fmol" name="1 fmol">
			<cvParam accession="MS:0000000 (study variable)" name="concentration" cvRef="PSI-MS"/>	<!-- progenesis actually only has a user given name for this -->
			<AssayRef Assay_ref="OV01108"/>
			<AssayRef Assay_ref="OV01118"/>
			<AssayRef Assay_ref="OV01128"/>
		</StudyVariable>
		<StudyVariable id="2_fmol" name="2 fmol">
			<cvParam accession="MS:0000000 (study variable)" name="concentration" cvRef="PSI-MS"/>
			<AssayRef Assay_ref="OV01110"/>
			<AssayRef Assay_ref="OV01120"/>
			<AssayRef Assay_ref="OV01130"/>
		</StudyVariable>
		<StudyVariable id="4_fmol" name="4 fmol">
			<cvParam accession="MS:0000000 (study variable)" name="concentration" cvRef="PSI-MS"/>
			<AssayRef Assay_ref="OV01112"/>
			<AssayRef Assay_ref="OV01122"/>
			<AssayRef Assay_ref="OV01132"/>
		</StudyVariable>
		<StudyVariable id="8_fmol" name="8 fmol">
			<cvParam accession="MS:0000000 (study variable)" name="concentration" cvRef="PSI-MS"/>
			<AssayRef Assay_ref="OV01114"/>
			<AssayRef Assay_ref="OV01124"/>
			<AssayRef Assay_ref="OV01134"/>
		</StudyVariable>
		<StudyVariable id="16_fmol" name="16 fmol">
			<cvParam accession="MS:0000000 (study variable)" name="concentration" cvRef="PSI-MS"/>
			<AssayRef Assay_ref="OV01116"/>
			<AssayRef Assay_ref="OV01126"/>
			<AssayRef Assay_ref="OV01136"/>
		</StudyVariable>
	</StudyVariableList>
	
	
	<FeatureList>
		<Feature id="feature548_OV01108" AssayRef="OV01108" charge="2" DataProcessingRef="progenesis_alignment" intensity="610441.5625" MZ="418.729214693827" RT="26.8685">
			<!-- TODO: these are only visually accessible -->
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01118" AssayRef="OV01118" charge="2" DataProcessingRef="progenesis_alignment" intensity="680880.75" MZ="418.729214693827" RT="26.8685">
			<!-- if the masstraces are taken after the alignment, they are all the same for one feature -->
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01128" AssayRef="OV01128" charge="2" DataProcessingRef="progenesis_alignment" intensity="615136.875" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01110" AssayRef="OV01110" charge="2" DataProcessingRef="progenesis_alignment" intensity="740912.4375" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01120" AssayRef="OV01120" charge="2" DataProcessingRef="progenesis_alignment" intensity="730124.375" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01130" AssayRef="OV01130" charge="2" DataProcessingRef="progenesis_alignment" intensity="808786.125" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>

		<Feature id="feature548_OV01112" AssayRef="OV01112" charge="2" DataProcessingRef="progenesis_alignment" intensity="744239.6875" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01122" AssayRef="OV01122" charge="2" DataProcessingRef="progenesis_alignment" intensity="773018.375" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01132" AssayRef="OV01132" charge="2" DataProcessingRef="progenesis_alignment" intensity="643995.5" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01114" AssayRef="OV01114" charge="2" DataProcessingRef="progenesis_alignment" intensity="1231927.125" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01124" AssayRef="OV01124" charge="2" DataProcessingRef="progenesis_alignment" intensity="1074652.25" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01134" AssayRef="OV01134" charge="2" DataProcessingRef="progenesis_alignment" intensity="1178349.375" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01116" AssayRef="OV01116" charge="2" DataProcessingRef="progenesis_alignment" intensity="2434379.5" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01126" AssayRef="OV01126" charge="2" DataProcessingRef="progenesis_alignment" intensity="2548048" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<Feature id="feature548_OV01136" AssayRef="OV01136" charge="2" DataProcessingRef="progenesis_alignment" intensity="2348336" MZ="418.729214693827" RT="26.8685">
			<masstrace MZstart="418.7139" MZstop="418.7454" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.2045" MZstop="419.2548" RTstart="26.635" RTstop="27.592"/>
			<masstrace MZstart="419.688" MZstop="419.7517" RTstart="26.635" RTstop="27.528"/>
			<masstrace MZstart="420.2408" MZstop="420.2548" RTstart="26.635" RTstop="27.018"/>
		</Feature>
		
		<!-- and many, many more... -->
	</FeatureList>
	
	
	<QuantificationsList>
		<QuantMeasurements>
			<!-- protein abundancies first -->
			<QuantMeasurement id="q_P00330_raw_OV01108" value="280901.181382014" name="raw abundance of P00330 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01108">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: is this for normalization -->
						<!-- TODO: add all the other features of this protein -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>	<!-- TODO: and what do I need this for? -->
				</FeatureReferences>
			</QuantMeasurement>
			
			<QuantMeasurement id="q_P00330_normalized_OV01108" value="253560.525230636" name="normalized abundance of P00330 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01108">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: is this for normalization -->
						<!-- TODO: add all the other features of this protein -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>
				</FeatureReferences>
			</QuantMeasurement>
			
			<!-- feature abundancies -->
			<!-- here are the raw abundancies -->
			<QuantMeasurement id="q_feature548_raw_OV01108" value="69424.4127352583" name="raw abundance of feature #548 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01108">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: what is this for, when it's still raw? -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>
				</FeatureReferences>
			</QuantMeasurement>
			
			<QuantMeasurement id="q_feature548_raw_OV01110" value="89500.9153961249" name="raw abundance of feature #548 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01110">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: what is this for, when it's still raw? -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>
				</FeatureReferences>
			</QuantMeasurement>
			
			<!-- here are the normalized abundancies -->
			<QuantMeasurement id="q_feature548_normalized_OV01108" value="62667.2001533549" name="normalized abundance of feature #548 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01108">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: is this for normalization -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>
				</FeatureReferences>
			</QuantMeasurement>
			
			<QuantMeasurement id="q_feature548_normalized_OV01110" value="79181.5143361066" name="normalized abundance of feature #548 in OV01108">
				<FeatureReferences>
					<GroupedFeatureRefs FeatureRefs="feature548_OV01110">
						<cvParam cvRef="" accession="acc" name="name" />	<!-- TODO: is this for normalization -->
					</GroupedFeatureRefs>
					<cvParam cvRef="" accession="" name=""/>
				</FeatureReferences>
			</QuantMeasurement>
			
		</QuantMeasurements>
	</QuantificationsList>
	
	
	<DataProcessingList>
		<dataProcessing id="progenesis_alignment">
			<processingMethod>
				<!-- TODO: further describtion of the alignment. maybe even collecting all vectors, if this is intended? -->
			</processingMethod>
		</dataProcessing>		
	</DataProcessingList>
	
</mzQuantML>
